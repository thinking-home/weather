# Использование с несколькими ключами доступа

В сервисе Яндекс Погода у ключей доступа может быть лимит на количество запросов в месяц
(в зависимости от тарифа). Если вашей программой пользуется несколько человек, у каждого из которых
есть собственный ключ доступа, то вы можете настроить, чтобы при достижении лимита на одном ключе
приложение автоматически начинало использовать следующий. Для этого передайте массив ключей в
конструктор `YandexWeatherClient`.

Если у всех ключей были достигнуты лимиты запросов, то будет сгенерировано исключение
`NoValidApiKeysException`.

```csharp

string[] apiKeys = [
    "ae672ade-c0ed-43c7-b6e1-36d821aa2c27",
    "e12929c4-74f7-4228-84f0-476632b2782d"
] // ключи доступа к API

// создаем экземпляр класса YandexWeatherClient
using var weatherClient = new YandexWeatherClient(apiKeys);

try
{
    // делаем запрос к API Яндекс Погоды
    var response = await weatherClient.GetForecast(lat, lon);
    // ...
}
catch (NoValidApiKeysException e)
{
    // обрабатываем ситуацию, когда были достигнуты лимиты запросов у всех ключей
    Console.WriteLine("Закончились рабочие ключи");
}
```